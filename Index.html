<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø®Ø²Ù†ÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ø§Ù„Ø®Ø§Øµ</title>
    <script src="https://static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
    <style>
        body { font-family: sans-serif; background: #f4f7f6; text-align: center; padding: 20px; margin: 0; }
        .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .hidden { display: none; }
        input[type="password"] { width: 80%; padding: 12px; margin: 10px; border: 1px solid #ddd; border-radius: 8px; }
        button { background: #007bff; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-size: 16px; width: 80%; }
        .gallery { margin-top: 20px; }
        .item { background: #fff; padding: 10px; border-bottom: 2px solid #f4f7f6; margin-bottom: 15px; }
        .item img, .item video { width: 100%; border-radius: 10px; }
        .btn-download { display: inline-block; margin-top: 10px; background: #28a745; color: white; text-decoration: none; padding: 8px 15px; border-radius: 5px; }
    </style>
</head>
<body>

<div id="loginBox" class="container">
    <h2>ğŸ”’ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ</h2>
    <input type="password" id="passInput" placeholder="Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<div id="mainBox" class="container hidden">
    <h2>â˜ï¸ Ù…Ø®Ø²Ù†ÙŠ Ø§Ù„Ù…Ø´ØªØ±Ùƒ</h2>
    <button style="background: #6f42c1;" onclick="openPicker()">â• Ø±ÙØ¹ ØµÙˆØ±Ø© Ø£Ùˆ ÙÙŠØ¯ÙŠÙˆ</button>
    <hr>
    <div id="list" class="gallery">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª...</div>
</div>

<script>
    const PASS = "asdasd1428A";
    const client = filestack.init('AHjZGpNi7TTq4kcuo5XOhz'); // Ø¶Ø¹ Ù…ÙØªØ§Ø­Ùƒ Ù‡Ù†Ø§
    let uploadedFiles = JSON.parse(localStorage.getItem('cloud_files') || '[]');

    function login() {
        if (document.getElementById('passInput').value === PASS) {
            document.getElementById('loginBox').style.display = 'none';
            document.getElementById('mainBox').classList.remove('hidden');
            renderFiles();
        } else {
            alert("Ø®Ø·Ø£!");
        }
    }

    function openPicker() {
        client.picker({
            onUploadDone: (res) => {
                const file = res.filesUploaded[0];
                const newFile = {
                    name: file.filename,
                    url: file.url,
                    type: file.mimetype
                };
                saveFile(newFile);
            }
        }).open();
    }

    // Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„ÙƒÙŠ ØªØ¹Ù…Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙØ¹Ù„ÙŠØ§Ù‹ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© "Ø¨Ù…Ù„Ù ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·"
    // Ù†Ø³ØªØ®Ø¯Ù… Ù‡Ù†Ø§ Ø§Ù„Ù€ URL Ø§Ù„Ù…Ø¨Ø§Ø´Ø±. Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù‡ÙŠ Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ù€ Database Ø¨Ø³ÙŠØ·Ø©
    function saveFile(file) {
        uploadedFiles.push(file);
        localStorage.setItem('cloud_files', JSON.stringify(uploadedFiles));
        renderFiles();
        // Ù„Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ù„Ø¬Ù‡Ø§Ø² Ø¢Ø®Ø±ØŒ ØªØ­ØªØ§Ø¬ Ù„Ø®Ø¯Ù…Ø© Ù…Ø«Ù„ Firebase (Ù…Ø¬Ø§Ù†ÙŠØ©)
        // Ù‡Ù„ ØªØ±ÙŠØ¯Ù†ÙŠ Ø£Ù† Ø£Ø±Ø¨Ø· Ù„Ùƒ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ù€ Firebase Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† FilestackØŸ
    }

    function renderFiles() {
        const list = document.getElementById('list');
        list.innerHTML = '';
        uploadedFiles.forEach(f => {
            const isVideo = f.type.includes('video');
            const media = isVideo ? `<video src="${f.url}" controls></video>` : `<img src="${f.url}">`;
            list.innerHTML += `
                <div class="item">
                    ${media}
                    <br>
                    <a href="${f.url}" target="_blank" class="btn-download" download>â¬‡ï¸ ØªØ­Ù…ÙŠÙ„</a>
                </div>`;
        });
    }
</script>
</body>
</html>
